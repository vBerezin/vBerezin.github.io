{"version":3,"sources":["webpack://[name]/./common/classes/class-input-file.js"],"names":["InputFile","input","options","values","buttonText","clearText","wrapper","makeWrapper","button","makeButton","clear","makeClear","addEventListener","files","length","innerHTML","name","classList","add","remove","onChange","parentNode","appendChild","document","createElement","className","btn","onclick","event","click","preventDefault","value"],"mappings":";;;;;;;;;;;;;;;;;;;AAAA;IACMA,S;;;AACJ,qBAAYC,KAAZ,EAAmBC,OAAnB,EAA4B;AAAA;;AAAA;;AAC1B,SAAKD,KAAL,GAAaA,KAAb;AACA,SAAKE,MAAL,GAAc,IAAd;AACA,SAAKD,OAAL,GAAe,SAAc;AAC3BE,gBAAU,EAAE,QADe;AAE3BC,eAAS,EAAE;AAFgB,KAAd,EAGZH,OAAO,IAAI,EAHC,CAAf;AAIA,SAAKI,OAAL,GAAe,KAAKC,WAAL,EAAf;AACA,SAAKC,MAAL,GAAc,KAAKC,UAAL,EAAd;AACA,SAAKC,KAAL,GAAa,KAAKC,SAAL,EAAb;AACAV,SAAK,CAACW,gBAAN,CAAuB,QAAvB,EAAiC,YAAM;AAAA,UAC7BC,KAD6B,GACnBZ,KADmB,CAC7BY,KAD6B;;AAErC,UAAIA,KAAK,CAACC,MAAV,EAAkB;AAChB,aAAI,CAACX,MAAL,GAAcU,KAAd;AACA,aAAI,CAACL,MAAL,CAAYO,SAAZ,GAAwBF,KAAK,CAAC,CAAD,CAAL,CAASG,IAAjC;;AACA,aAAI,CAACV,OAAL,CAAaW,SAAb,CAAuBC,GAAvB,CAA2B,UAA3B;AACD,OAJD,MAIO;AACL,aAAI,CAACf,MAAL,GAAc,IAAd;AACA,aAAI,CAACK,MAAL,CAAYO,SAAZ,GAAwB,KAAI,CAACb,OAAL,CAAaE,UAArC;;AACA,aAAI,CAACE,OAAL,CAAaW,SAAb,CAAuBE,MAAvB,CAA8B,UAA9B;AACD;;AACD,UAAI,OAAO,KAAI,CAACC,QAAZ,KAAyB,UAA7B,EAAyC,KAAI,CAACA,QAAL;AAC1C,KAZD;AAaA,SAAKnB,KAAL,CAAWoB,UAAX,CAAsBC,WAAtB,CAAkC,KAAKhB,OAAvC;AACA,SAAKA,OAAL,CAAagB,WAAb,CAAyB,KAAKrB,KAA9B;AACA,SAAKK,OAAL,CAAagB,WAAb,CAAyB,KAAKd,MAA9B;AACA,SAAKF,OAAL,CAAagB,WAAb,CAAyB,KAAKZ,KAA9B;AACD;;;;kCAEa;AACZ,UAAMJ,OAAO,GAAGiB,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAhB;AACAlB,aAAO,CAACmB,SAAR,GAAoB,cAApB;AACA,aAAOnB,OAAP;AACD;;;iCAEY;AAAA;;AACX,UAAMoB,GAAG,GAAGH,QAAQ,CAACC,aAAT,CAAuB,QAAvB,CAAZ;AACAE,SAAG,CAACD,SAAJ,GAAgB,mBAAhB;AACAC,SAAG,CAACX,SAAJ,GAAgB,KAAKb,OAAL,CAAaE,UAA7B;;AACAsB,SAAG,CAACC,OAAJ,GAAc,UAACC,KAAD,EAAW;AACvB,cAAI,CAAC3B,KAAL,CAAW4B,KAAX;;AACAD,aAAK,CAACE,cAAN;AACD,OAHD;;AAIA,aAAOJ,GAAP;AACD;;;gCAEW;AAAA;;AACV,UAAMA,GAAG,GAAGH,QAAQ,CAACC,aAAT,CAAuB,QAAvB,CAAZ;AACAE,SAAG,CAACD,SAAJ,GAAgB,qBAAhB;AACAC,SAAG,CAACX,SAAJ,GAAgB,KAAKb,OAAL,CAAaG,SAA7B;;AACAqB,SAAG,CAACC,OAAJ,GAAc,UAACC,KAAD,EAAW;AACvB,cAAI,CAAC3B,KAAL,CAAW8B,KAAX,CAAiB,EAAjB;;AACAH,aAAK,CAACE,cAAN;AACA,YAAI,OAAO,MAAI,CAACV,QAAZ,KAAyB,UAA7B,EAAyC,MAAI,CAACA,QAAL;AAC1C,OAJD;;AAKA,aAAOM,GAAP;AACD;;;+BAEU;AACT,aAAO,KAAP;AACD;;;;;;AAGY1B,wEAAf,E","file":"input-file.js","sourcesContent":["// TODO: multiple, images\nclass InputFile {\n  constructor(input, options) {\n    this.input = input;\n    this.values = null;\n    this.options = Object.assign({\n      buttonText: 'Browse',\n      clearText: 'Remove',\n    }, options || {});\n    this.wrapper = this.makeWrapper();\n    this.button = this.makeButton();\n    this.clear = this.makeClear();\n    input.addEventListener('change', () => {\n      const { files } = input;\n      if (files.length) {\n        this.values = files;\n        this.button.innerHTML = files[0].name;\n        this.wrapper.classList.add('has-file');\n      } else {\n        this.values = null;\n        this.button.innerHTML = this.options.buttonText;\n        this.wrapper.classList.remove('has-file');\n      }\n      if (typeof this.onChange === 'function') this.onChange();\n    });\n    this.input.parentNode.appendChild(this.wrapper);\n    this.wrapper.appendChild(this.input);\n    this.wrapper.appendChild(this.button);\n    this.wrapper.appendChild(this.clear);\n  }\n\n  makeWrapper() {\n    const wrapper = document.createElement('div');\n    wrapper.className = 'c-input-file';\n    return wrapper;\n  }\n\n  makeButton() {\n    const btn = document.createElement('button');\n    btn.className = 'c-input-file__btn';\n    btn.innerHTML = this.options.buttonText;\n    btn.onclick = (event) => {\n      this.input.click();\n      event.preventDefault();\n    };\n    return btn;\n  }\n\n  makeClear() {\n    const btn = document.createElement('button');\n    btn.className = 'c-input-file__clear';\n    btn.innerHTML = this.options.clearText;\n    btn.onclick = (event) => {\n      this.input.value('');\n      event.preventDefault();\n      if (typeof this.onChange === 'function') this.onChange();\n    };\n    return btn;\n  }\n\n  onChange() {\n    return false;\n  }\n}\n\nexport default InputFile;\n"],"sourceRoot":""}