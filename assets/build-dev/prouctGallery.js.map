{"version":3,"sources":["webpack://[name]/./common/product-card.js"],"names":["prouctGallery","context","product","$","find","length","slider","thumbs","thumbsHover","setThumb","index","removeClass","addClass","trigger","children","App","breakpoints","onBreakpoint","hide","owlDestroy","owlCarousel","items","dots","loop","nav","onInitialized","event","item","onTranslated","responsive","show","margin","autoWidth","on","data","preventDefault","remove"],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AACA;;AAEA,IAAMA,aAAa,GAAG,SAAhBA,aAAgB,CAACC,OAAD,EAAa;AACjC,MAAMC,OAAO,GAAGC,CAAC,CAACF,OAAD,CAAD,CAAWG,IAAX,CAAgB,iBAAhB,CAAhB;AACA,MAAI,CAACF,OAAO,CAACG,MAAb,EAAqB,OAAO,KAAP;AACrB,MAAMC,MAAM,GAAGJ,OAAO,CAACE,IAAR,CAAa,gCAAb,CAAf;AACA,MAAMG,MAAM,GAAGL,OAAO,CAACE,IAAR,CAAa,gCAAb,CAAf;AACA,MAAII,WAAW,GAAG,KAAlB;;AACA,WAASC,QAAT,CAAkBC,KAAlB,EAAyB;AACvBH,UAAM,CAACH,IAAP,CAAY,cAAZ,EAA4BO,WAA5B,CAAwC,WAAxC;AACAJ,UAAM,CAACH,IAAP,uBAA2BM,KAA3B,QAAqCE,QAArC,CAA8C,WAA9C;;AACA,QAAI,CAACJ,WAAL,EAAkB;AAChBD,YAAM,CAACM,OAAP,CAAe,iBAAf,EAAkCH,KAAlC;AACD;AACF;;AACD,MAAIJ,MAAM,CAACQ,QAAP,GAAkBT,MAAlB,GAA2B,CAA/B,EAAkC;AAChCU,gDAAG,CAACC,WAAJ,CAAgBC,YAAhB,CACE,QADF,EAEE,YAAM;AACJV,YAAM,CAACW,IAAP,CAAY,CAAZ;AACAC,iFAAU,CAACb,MAAD,CAAV;AACD,KALH,EAME,YAAM;AACJA,YAAM,CAACM,QAAP,CAAgB,cAAhB,EAAgCQ,WAAhC,CAA4C;AAC1CC,aAAK,EAAE,CADmC;AAE1CC,YAAI,EAAE,KAFoC;AAG1CC,YAAI,EAAE,KAHoC;AAI1CC,WAAG,EAAE,IAJqC;AAK1CC,qBAAa,EAAE,uBAACC,KAAD,EAAW;AACxBjB,kBAAQ,CAACiB,KAAK,CAACC,IAAN,CAAWjB,KAAZ,CAAR;AACD,SAPyC;AAQ1CkB,oBAAY,EAAE,sBAACF,KAAD,EAAW;AACvBjB,kBAAQ,CAACiB,KAAK,CAACC,IAAN,CAAWjB,KAAZ,CAAR;AACD,SAVyC;AAW1CmB,kBAAU,EAAE;AACV,eAAK;AACHL,eAAG,EAAE;AADF;AADK;AAX8B,OAA5C;AAiBAjB,YAAM,CAACuB,IAAP,CAAY,CAAZ;AACAvB,YAAM,CAACK,QAAP,CAAgB,cAAhB,EAAgCQ,WAAhC,CAA4C;AAC1CI,WAAG,EAAE,IADqC;AAE1CF,YAAI,EAAE,KAFoC;AAG1CC,YAAI,EAAE,KAHoC;AAI1CF,aAAK,EAAE,CAJmC;AAK1CU,cAAM,EAAE,EALkC;AAM1CC,iBAAS,EAAE;AAN+B,OAA5C;AAQAzB,YAAM,CAAC0B,EAAP,CAAU,OAAV,EAAmB,cAAnB,EAAmC,UAAUP,KAAV,EAAiB;AAClDpB,cAAM,CAACO,OAAP,CAAe,iBAAf,EAAkC,CAACV,CAAC,CAAC,IAAD,CAAD,CAAQ+B,IAAR,CAAa,OAAb,CAAnC;AACAR,aAAK,CAACS,cAAN;AACD,OAHD,EAGGF,EAHH,CAGM,YAHN,EAGoB,YAAM;AACxBzB,mBAAW,GAAG,IAAd;AACD,OALD,EAKGyB,EALH,CAKM,YALN,EAKoB,YAAM;AACxBzB,mBAAW,GAAG,KAAd;AACD,OAPD;AAQD,KAzCH;AA2CD,GA5CD,MA4CO;AACLD,UAAM,CAAC6B,MAAP;AACD;;AACD,SAAOlC,OAAP;AACD,CA7DD;;AA8DeF,4EAAf,E","file":"prouctGallery.js","sourcesContent":["import App from './app';\nimport owlDestroy from './jquery-plugins/owl-destroy';\n\nconst prouctGallery = (context) => {\n  const product = $(context).find('.js-product-gal');\n  if (!product.length) return false;\n  const slider = product.find('[data-action=\"product.slider\"]');\n  const thumbs = product.find('[data-action=\"product.thumbs\"]');\n  let thumbsHover = false;\n  function setThumb(index) {\n    thumbs.find('[data-index]').removeClass('is-active');\n    thumbs.find(`[data-index=${index}]`).addClass('is-active');\n    if (!thumbsHover) {\n      thumbs.trigger('to.owl.carousel', index);\n    }\n  }\n  if (slider.children().length > 1) {\n    App.breakpoints.onBreakpoint(\n      'xxs xs',\n      () => {\n        thumbs.hide(0);\n        owlDestroy(slider);\n      },\n      () => {\n        slider.addClass('owl-carousel').owlCarousel({\n          items: 1,\n          dots: false,\n          loop: false,\n          nav: true,\n          onInitialized: (event) => {\n            setThumb(event.item.index);\n          },\n          onTranslated: (event) => {\n            setThumb(event.item.index);\n          },\n          responsive: {\n            550: {\n              nav: false,\n            },\n          },\n        });\n        thumbs.show(0);\n        thumbs.addClass('owl-carousel').owlCarousel({\n          nav: true,\n          dots: false,\n          loop: false,\n          items: 4,\n          margin: 20,\n          autoWidth: true,\n        });\n        thumbs.on('click', '[data-index]', function (event) {\n          slider.trigger('to.owl.carousel', +$(this).data('index'));\n          event.preventDefault();\n        }).on('mouseenter', () => {\n          thumbsHover = true;\n        }).on('mouseleave', () => {\n          thumbsHover = false;\n        });\n      },\n    );\n  } else {\n    thumbs.remove();\n  }\n  return product;\n};\nexport default prouctGallery;\n"],"sourceRoot":""}